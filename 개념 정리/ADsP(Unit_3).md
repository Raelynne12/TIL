# 3 - 데이터 분석



## (1) R기초



**특징**

1. 오픈 소스
2. 데이터 핸들링 우수(다양한 데이터 읽어오는 기능)
3. 인터프리터 언어
4. 동적 그래프 지원
5. 다양한 형태 데이터 구조 지원 > 분석 대응력 좋음
6. 메모리(RAM)에서 작동하기 때문에 속도 빠르다



**데이터 구조**

1. Vector

   - c(), : , seq(), rep()

   ```R
   #1. c함수
   c(1,2,3) + 2
   #[1] 3 4 5
   c(1,2,3) + c(4,5,6,7)
   #[1] 5 7 9 8
   
   #2. :
   1:7
   #[1] 1 2 3 4 5 6 7
   
   #3. seq() : 등차수열
   seq(1,4) #시작, 끝 (+ 간격)
   #[1] 1 2 3 4
   
   #4. rep()
   rep(c(1,2,3), times = 2, each = 2)
   #[1] 1 1 2 2 3 3 1 1 2 2 3 3
   
   #5. sequence()
   sequence(1:5)
   #[1] 1 1 2 1 2 3 1 2 3 4 1 2 3 4 5
   ```

2. Matrix

   - 한 가지 유형의 스칼라만 사용 가능

   ```R
   m <- matrix(c(1,2,3,4,5,6), ncol = 2)
   m
   #	[,1][,2]
   #[1,] 1   4
   #[2,] 2   5
   #[3,] 3   6
   
   #rbind > 행 추가
   #cbind > 열 추가
   ```

3. Array

   - 다차원 데이터

   ```R
   array(1:6, dim = c(3,2)) #3*4
   #	[,1][,2]
   #[1,] 1   4
   #[2,] 2   5
   #[3,] 3   6
   ```

   

4. Data frame

   ```R
   a <- c(100,200,300)
   d <- data.frame(income = a1, car = b1, marriage = 1)
   d
   # income car marriage
   #1	100	  a		FALSE
   #2	200	  b		FALSE
   #3	300   c		FALSE
   ```

5. List

   - 서로 다른 데이터 유형 담기 가능

   ```R
   x <- list(name = 'kim', height = 170)
   x
   #$name
   #[1] 'kim'
   #$height
   #[1] 170
   ```

\+ 행렬의 역행렬 : solve()



**기초통계 정리**

![image-20220223214044241](ADsP(Unit_3).assets/image-20220223214044241.png)



**데이터 핸들링**

```R
#1) paste : 입력받은 문자열들을 하나로 붙여줌
paste(number, alphabet)
#[1] '1 a' '2 b'...

#2) substr : n번째 글자부터 m번째 글자만 추출

#3) as.Date('02/13/2018', format = '%m/%d/%Y')
```



**r그래픽**

- 산점도 함수 : plot()
- 산점도 행렬 : pairs() >> 각각의 산점도 한 눈에 살펴보기
- 히스토그램 : hist()
- 박스플롯
- 모자이크플롯



---



## (2) 데이터 마트

> 데이터의 한 부분, 특정 사용자가 관심을 갖는 데이터들을 담은 비교적 작은 규모의 데이터 웨어하우스



```R
#1) melt()
# + na.rm = False : NA인 행을 결과에 포함 안시킨다

#2) cast(): melt()된 데이터를 다시 여러 컬럼으로 변환

#3) sqldf('select*from iris') : sql문 사용할 줄 아는 사용자가 쉽게 데이터 접근할 수 있

#4) plyr  : split, apply, combine

#5) data.table
```



---



## (3) 결측값 처리와 이상값 검색



1. 결측값 대치법

   1. 단순 대치법

      - 완전 분석법 : NA값 다 제외

      - 평균 대치법 : 평균값으로 대치

      - 단순 확률 대치법 :

        | cold-deck         | 이전 자료 사용                                               |
        | ----------------- | ------------------------------------------------------------ |
        | hot-deck          | 대체군 내에서 하나 랜덤 설정                                 |
        | regression        | 보조 변수 > 회귀 예측치 대체                                 |
        | nearest neighbour | 보조변수 > 무응답조사 단위와 가장 유사한 응답 조사단위 찾아서 대응되는 값 대체 |

   2. 다중 대치법

      - 대치, 분석, 결합 세 단계로 구성



- 결측값 처리 관련 패키지 > amelia 2, mice, mistools
- `complete.cases()` : NA값 조사해서 논리값으로 반환(bool)
- `na.omit()` : na가 있는 행 전체 삭제



---



## (4) 통계분석



**모집단과 표본**

- 모집단
  - 관찰의 대상이 되는 집단 전체
- 표본
  - 전체 모집단의 단면이 되는 가정 하에 모집단에서 선택된 모집단 구성단위의 일부



**표본추출방법**

1. 확률적 추출
   1. 단순 무작위 추출
   2. 계통추출
      - 일련번호 부여 후 첫 번째 표본을 임의로 선택, 일정 간격으로 다음 표본 선택
   3. 층하추출
      - 집단 내에서 원하는 크기의 표본을 무작위로 추출
   4. 군집추출
2. 비확률적 추출
   1. 판단추출
   2. 할당추출
   3. 편의추출



**자료의 종류**

> 척도 : 측정을 위해 부여한 숫자들 간의 관계

- 명목척도
  - 성별
- 서열척도
- 등간척도
  - 0점 존재하지 않는다(순위 부여하되 순위 간 간격 동일 > 양적 비교 가능)
  - 온도계 수치, 물가지수 등
- 비율척도
  - 절대 0점 존재 > 비율 계산 가능
  - 몸무게



**통계분석**

- 통계학 분류
  - 기술 통계학
    - 도표, 그림, 중위수, 최빈수, 평균, 표준편차 등
    - 평균, 비율, 분산, 기록, 지수
  - 추론 통계학
    - 표본 분석해서 결과 가지고 모집단 특성 밝히고 규명
    - 모집단, 표본, 포본 크기, 모수, 통계량
- 모수통계 vs 비모수통계
  - 모수통계
    - 모집단 특성이 정규분포 따르고 있을 것이라는 가정 하에 특성 추정
    - 연속성, 선형성, 특성의 정규분포성, 분산의 동질성의 조건
  - 비모수통계
    - 정규분포 가정 안 함
    - 선형성, 정규분포성 등 조건 없어도 가능



```
변수(variable)

질적 변수 / 양적 변수

양적 변수 
1. 불연속변수 : 셀 수 있는 값을 가지는 변수
2. 연속변수 : 정수 사이 간격이 있는 수량 값, 한정된 숫자로 셀 수 없는 양적 변수
```

